import{j as a,m as l}from"./vendor-motion-C5CHWF_G.js";import{f as x,a as d,L as p}from"./vendor-router-BZMLayCp.js";import{p as m,c as h,P as f}from"./index-DNDutOny.js";const g={masala:["spices"],spice:["spices"],spices:["spices"],condiment:["spices"],paste:["pastes"],pastes:["pastes"],sauce:["pastes"],chutney:["pastes"],spread:["pastes"],powder:["powders"],powders:["powders"],dust:["powders"]},u={lahsun:["garlic"],adrak:["ginger"],pyaaz:["onion"],mirchi:["chilli","chili"],lal:["red"],haldi:["turmeric"],garlic:["garlic"],ginger:["ginger"],onion:["onion"],chilli:["chilli","chili"],chili:["chilli","chili"],chile:["chilli","chili"],spicy:["chilli","spicy","heat"],hot:["chilli","spicy","heat"],red:["red","chilli"],turmeric:["turmeric"],curry:["curry","curries","spice"],marinade:["marinade","marinades","paste"],cooking:["curry","curries","cooking","kitchen"],indian:["indian","curry","spice"],authentic:["authentic","traditional"]};function v(r){const e=r.toLowerCase().trim(),s=g[e]?[...g[e]]:[],i=[e];return u[e]&&u[e].forEach(o=>{i.includes(o)||i.push(o)}),{categoryIds:s,terms:i}}function w(r,e,s,i){const o=i.length>0&&i.includes(r.category),t=[r.name,r.description,r.highlights?.keyFeatures,r.highlights?.flavour,r.highlights?.ingredients].filter(Boolean).join(" ").toLowerCase(),c=s.some(n=>t.includes(n.toLowerCase()));return o||c}function k(){const[r]=x(),e=r.get("category"),s=(r.get("search")??"").trim().toLowerCase(),i=d.useMemo(()=>{let t=e?m.filter(c=>c.category===e):m;if(s){const{categoryIds:c,terms:n}=v(s);t=t.filter(y=>w(y,s,n,c))}return t},[e,s]),o=d.useMemo(()=>h.find(t=>t.id===e),[e]);return a.jsxs("div",{className:"s2s-page-products s2s-product-listing mx-auto max-w-7xl px-4 py-10 sm:px-6 lg:px-8 lg:py-14","data-page":"product-listing",children:[a.jsxs(l.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},className:"s2s-product-listing-header mb-10","data-section":"listing-header",children:[a.jsx("h1",{className:"text-3xl font-bold tracking-tight text-[var(--color-primary)] sm:text-4xl",children:s?`Search: "${r.get("search")}"`:o?o.name:"All products"}),a.jsxs("p",{className:"mt-2 text-[var(--color-text-secondary)]",children:[i.length," ",i.length===1?"product":"products"]})]}),a.jsxs(l.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"s2s-product-listing-filters mb-10 flex flex-wrap gap-2","data-section":"category-filters",children:[a.jsx(p,{to:"/products",className:`rounded-full px-4 py-2 text-sm font-medium transition-all duration-300 ${e?"bg-[var(--color-bg-muted)] text-[var(--color-text-secondary)] hover:bg-[var(--color-primary)]/10 hover:text-[var(--color-primary)]":"bg-[var(--color-primary)] text-white"}`,children:"All"}),h.map(t=>a.jsx(p,{to:`/products?category=${t.id}`,className:`rounded-full px-4 py-2 text-sm font-medium transition-all duration-300 ${e===t.id?"bg-[var(--color-primary)] text-white":"bg-[var(--color-bg-muted)] text-[var(--color-text-secondary)] hover:bg-[var(--color-primary)]/10 hover:text-[var(--color-primary)]"}`,children:t.name},t.id))]}),a.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.15},className:"s2s-product-listing-grid grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4","data-section":"product-grid",children:i.map((t,c)=>a.jsx(f,{product:t,index:c},t.id))}),i.length===0&&a.jsx("p",{className:"s2s-product-listing-empty py-16 text-center text-[var(--color-text-secondary)]","data-section":"empty-state",children:s?"No products match your search. Try a different term.":"No products in this category yet."})]})}export{k as default};
